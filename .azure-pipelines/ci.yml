trigger:
  batch: true
  branches:
    include:
    - master
    - ?.?*  # matches to backport branches, e.g. 3.6
  tags:
    exclude:
    - '*'
pr:
  autoCancel: true
  branches:
    include:
    - master
    - ?.?*  # matches to backport branches, e.g. 3.6

stages:
- template: stage-lint.yml
- template: stage-test.yml
- template: azure-linux-test-aarch64.yml
   parameters:
    name: Linux
    vmImage: ubuntu-16.04
    matrix:
      py38_np118:
        PYTHON: '3.8'
        NUMPY: '1.18'
        CONDA_ENV: travisci
        TEST_START_INDEX: 15
